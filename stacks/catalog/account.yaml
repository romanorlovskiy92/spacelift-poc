components:
  terraform:
    account:
      backend:
        s3:
          workspace_key_prefix: account
      remote_state_backend:
        s3:
          workspace_key_prefix: account
      settings:
        spacelift:
          workspace_enabled: true
          aws_role_enabled: true
          worker_type: shared
      vars:
        account_email_format: romanorlovskiy92+aws-%s@gmail.com
        account_iam_user_access_to_billing: DENY
        organization_enabled: true
        aws_service_access_principals:
          - cloudtrail.amazonaws.com
          - ram.amazonaws.com
        enabled_policy_types:
          - SERVICE_CONTROL_POLICY
          - TAG_POLICY
        organization_config:
          root_account:
            name: root
          root_account_stage_name: root
          accounts: []
          organization:
            service_control_policies: []
          organizational_units:
            # - name: data
            #   accounts:
            #     - name: proddata
            #       tags:
            #         eks: true
            #     - name: devdata
            #       tags:
            #         eks: true
            #     - name: stagedata
            #       tags:
            #         eks: true
            #   service_control_policies:
            #     - DenyLeavingOrganization
            - name: platform
              accounts:
                # - name: prod
                #   tags:
                #     eks: true
                - name: dev
                  tags:
                    eks: true
                # - name: stage
                #   tags:
                #     eks: true
              service_control_policies:
                - DenyLeavingOrganization
            - name: mgmt
              accounts:
                # - name: demo
                #   tags:
                #     eks: true
                - name: audit
                  tags:
                    eks: false
                # - name: corp
                #   tags:
                #     eks: true
                # - name: security
                #   tags:
                #     eks: false
                - name: identity
                  tags:
                    eks: false
                - name: network
                  tags:
                    eks: false
                - name: dns
                  tags:
                    eks: false
                # - name: automation
                #   tags:
                #     eks: true
              service_control_policies:
                - DenyLeavingOrganization